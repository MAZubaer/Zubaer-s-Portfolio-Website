<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zubaer - My Interests</title>

    <link rel="stylesheet" href="css/style.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>
    <header class="header sticky">
        <a href="index.html" class="logo">Zubaer.<span class="animate" style="--i:1;"></span></a>

        <div class="bx bx-menu" id="menu-icon"><span class="animate" style="--i:2;"></span></div>
        <nav class="navbar">
            <a href="index.html#home">Home</a>
            <a href="index.html#about">About</a>
            <a href="index.html#education">Education</a>
            <a href="interests.html" class="active">Interests</a> <a href="index.html#portfolio">Portfolio</a>
            <a href="index.html#contact">Contact</a>

            <span class="active-nav"></span>
            <span class="animate" style="--i:2;"></span>
        </nav>
    </header>

    <section class="interests-page show-animate" id="interests-page">
        <h2 class="heading">Favourites</h2>
        <div class="filter-buttons">
            <button class="filter-btn active" data-filter="all" onclick="filterItems('all')">All</button>
            <button class="filter-btn" data-filter="movie" onclick="filterItems('movie')">Movies</button>
            <button class="filter-btn" data-filter="series" onclick="filterItems('series')">Series</button>
        </div>



        <div class="category-section" id="media-section">
            <h3 class="category-title">Cinema & TV: Watched</h3>
            <div class="items-grid" data-category="media">
            </div>
        </div>

    </section>
    <script src="js/data.js"></script>
    <script src="js/javascript.js"></script>
    
    
    <script>
        // ----------------------------------------------------
        // CARD CREATION AND LOADING FUNCTION
        // ----------------------------------------------------
        function createCardHTML(item) {
            // Creates the HTML structure for a single card (returns it)
            return `
            <div class="interest-card" data-category="${item.category}" id="item-${item.id}">
                <img src="${item.image}" alt="${item.title}">
                <div class="card-content">
                    <h4>${item.title}</h4>
                    <p class="author">${item.author}</p>
                    <span class="tag ${item.tagClass}">${item.status}</span>
                    <div class="rating">
                        <i class='bx bxs-star'></i> ${item.rating}
                    </div>
                </div>
            </div>
        `;
        }

        function loadInterests() {
            // Separate data by categories
            const mediaGrid = document.querySelector('.items-grid[data-category="media"]');

            myInterests.forEach(item => {
                const cardHTML = createCardHTML(item);
                if (item.category === 'series' || item.category === 'movie') {
                    mediaGrid.innerHTML += cardHTML;
                }
            });

            // Set filtering on first load
            filterItems('all');
        }

        // ----------------------------------------------------
        // FILTER FUNCTION (Previous Version, Only Calls Will Change)
        // ----------------------------------------------------
        function filterItems(filterValue) {
            const filterButtons = document.querySelectorAll('.filter-btn');
            const interestCards = document.querySelectorAll('.interest-card');
            const categorySections = document.querySelectorAll('.category-section');

            // ... (The content of this function will remain the same as the last working version) ...
            // ... (Button activation and display: '' logic) ...

            filterButtons.forEach(btn => btn.classList.remove('active'));
            document.querySelector(`.filter-btn[data-filter="${filterValue}"]`).classList.add('active');

            interestCards.forEach(card => {
                const category = card.getAttribute('data-category');
                if (filterValue === 'all' || category === filterValue) {
                    card.style.display = '';
                } else {
                    card.style.display = 'none';
                }
            });

            // Only show/hide the media section now
            categorySections.forEach(section => {
                const visibleCardsCount = section.querySelectorAll('.interest-card:not([style*="display: none"])').length;
                if (visibleCardsCount === 0) {
                    section.style.display = 'none';
                } else {
                    section.style.display = 'block';
                }
            });
        }

        // Call loadInterests function when page loads
        window.addEventListener('load', loadInterests);

        // (The definition of the old activateScrollAnimations function that manually triggers animation should be here, 
        // if you haven't moved it to a separate js file.)
    </script>
    

</body>

</html>